<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - Instagram</title>
    <link rel="stylesheet" href="/index.css?v=1">
    <link rel="stylesheet" href="/profile.css?v=1">
    <link rel="stylesheet" href="/profile-actions.css?v=1">
    <link href="https://fonts.googleapis.com/css2?family=Grand+Hotel&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>

<body>
    <div class="app-container">
        <!-- Left Sidebar Navigation -->
        <div id="sidebar-container"></div>
        <script src="/sidebar.js"></script>

        <!-- Main Profile Content -->
        <main class="main-content profile-main">
            <div class="profile-container">
                <!-- Profile Header -->
                <header class="profile-header">
                    <!-- Profile Picture -->
                    <div class="profile-picture-container">
                        <img id="profile-picture" src="" alt="Profile Picture" class="profile-picture">
                    </div>

                    <!-- Profile Info -->
                    <div class="profile-info">
                        <!-- Username Row -->
                        <div class="profile-username-row">
                            <div class="profile-identity-group">
                                <h1 id="profile-username" class="profile-username"></h1>
                                <span id="verified-badge" class="verified-badge hidden" title="Verified">
                                    <svg aria-label="Verified" class="x1lliihq x1n2onr6" fill="rgb(0, 149, 246)"
                                        height="22" role="img" viewBox="0 0 40 40" width="22">
                                        <title>Verified</title>
                                        <path
                                            d="M19.998 3.094 14.638 0l-2.972 5.15H5.432v6.354L0 14.64 3.094 20 0 25.359l5.432 3.137v5.905h5.975L14.638 40l5.36-3.094L25.358 40l3.232-5.6h6.162v-6.01L40 25.359 36.905 20 40 14.641l-5.248-3.03v-6.46h-6.419L25.358 0l-5.36 3.094Zm7.415 11.225 2.254 2.287-11.43 11.5-6.835-6.93 2.244-2.258 4.587 4.581 9.18-9.18Z"
                                            fill-rule="evenodd"></path>
                                    </svg>
                                </span>
                            </div>
                            <button class="profile-options-btn" id="profile-options-btn">
                                <i class="fa-solid fa-ellipsis"></i>
                            </button>
                            <!-- Action Buttons - dynamically populated -->
                            <div id="profile-actions" class="profile-actions">
                                <!-- Edit Profile / Follow / Following buttons will be inserted here -->
                            </div>
                        </div>

                        <!-- Stats Row -->
                        <div class="profile-stats">
                            <div class="stat-item">
                                <span id="posts-count" class="stat-number">0</span>
                                <span class="stat-label">posts</span>
                            </div>
                            <div class="stat-item clickable" id="followers-stat">
                                <span id="followers-count" class="stat-number">0</span>
                                <span class="stat-label">followers</span>
                            </div>
                            <div class="stat-item clickable" id="following-stat">
                                <span id="following-count" class="stat-number">0</span>
                                <span class="stat-label">following</span>
                            </div>
                        </div>

                        <!-- Account Name & Bio -->
                        <div class="profile-bio-section">
                            <div id="profile-name" class="profile-name"></div>
                            <div id="business-type" class="business-type"></div>
                            <div id="profile-bio" class="profile-bio"></div>
                            <a id="profile-website" class="profile-website" href="#" target="_blank"
                                rel="noopener noreferrer"></a>
                        </div>

                        <!-- Action Buttons (Below Bio for other profiles) -->
                        <div id="profile-bio-actions" class="profile-bio-actions"></div>
                    </div>
                </header>

                <!-- Tabs (Posts / Reels) -->
                <div class="profile-tabs">
                    <button class="tab-btn active" id="tab-posts" data-tab="posts">
                        <i class="fa-solid fa-table-cells"></i>
                        <span>Posts</span>
                    </button>
                    <button class="tab-btn" id="tab-reels" data-tab="reels">
                        <i class="fa-solid fa-clapperboard"></i>
                        <span>Reels</span>
                    </button>
                </div>

                <!-- Posts Grid -->
                <div id="posts-grid" class="posts-grid">
                    <!-- Posts will be dynamically loaded here -->
                </div>

                <!-- Empty State -->
                <div id="empty-state" class="empty-state hidden">
                    <div class="empty-icon">
                        <i class="fa-regular fa-image"></i>
                    </div>
                    <h2 id="empty-title">No Posts Yet</h2>
                    <p id="empty-message">When posts are shared, they will appear here.</p>
                </div>

                <!-- Private Account Message -->
                <div id="private-message" class="private-message hidden">
                    <div class="private-icon">
                        <i class="fa-solid fa-lock"></i>
                    </div>
                    <h2>This Account is Private</h2>
                    <p>Follow this account to see their photos and videos.</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Unfollow Modal -->
    <div id="unfollow-modal" class="modal-overlay">
        <div class="modal-content unfollow-modal">
            <div class="unfollow-modal-header">
                <img id="unfollow-modal-picture" src="/uploads/default/default-avatar.png" alt="User"
                    class="unfollow-modal-picture">
                <span id="unfollow-modal-username" class="unfollow-modal-username">username</span>
                <button class="modal-close-btn" id="unfollow-modal-close">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
            <div class="unfollow-modal-body">
                <button id="unfollow-confirm-btn" class="unfollow-confirm-btn">Unfollow</button>
            </div>
        </div>
    </div>

    <!-- Options Modal (Three Dots) -->
    <div id="options-modal" class="modal-overlay">
        <div class="modal-content options-modal">
            <div class="options-list">
                <div id="verification-status-display" class="options-info-text" style="display: none;"></div>
                <button id="btn-apply-verification" class="options-btn">Apply for Verification</button>
                <button id="btn-cancel-options" class="options-btn cancel-btn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Verification Application Modal -->
    <div id="verification-form-modal" class="modal-overlay">
        <div class="modal-content verification-form-box">
            <div class="modal-header">
                <h2>Apply for Verification</h2>
                <button class="modal-close-btn" id="verification-modal-close">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
            <div class="modal-body">
                <p class="verification-info">Upload a document (ID, Passport, etc.) to verify your identity. Accepted
                    formats: JPG, PNG.</p>
                <form id="verification-form">
                    <div class="file-upload-container">
                        <label for="verification-doc" class="file-upload-label">
                            <i class="fa-solid fa-cloud-arrow-up"></i>
                            <span>Choose a file...</span>
                        </label>
                        <input type="file" id="verification-doc" name="document"
                            accept="image/jpeg, image/png, image/jpg" required>
                        <div id="file-name-display" class="file-name-display"></div>
                    </div>
                    <div id="verification-status-msg" class="status-msg"></div>
                    <button type="submit" class="primary-btn submit-btn" id="btn-submit-verification">Submit
                        Application</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Post Detail Modal (Lightbox) -->
    <div id="post-modal" class="modal-overlay">
        <div class="modal-content post-modal-content">
            <button class="modal-close-btn" id="post-modal-close">
                <i class="fa-solid fa-xmark"></i>
            </button>
            <div class="post-modal-container">
                <!-- Left: Media -->
                <div class="post-media-container" id="post-modal-media-container">
                    <!-- Image or Video will be injected here -->
                </div>

                <!-- Right: Info & Comments -->
                <div class="post-info-container">
                    <!-- Header -->
                    <div class="post-modal-header">
                        <div class="post-header-user">
                            <img id="post-modal-user-pic" src="" alt="User">
                            <span id="post-modal-username" class="post-modal-username"></span>
                        </div>
                        <button class="post-options-btn">
                            <i class="fa-solid fa-ellipsis"></i>
                        </button>
                    </div>

                    <!-- Comments / Caption Area -->
                    <div class="post-comments-section" id="post-comments-section">
                        <!-- Caption (first item) -->
                        <div class="comment-item caption-item">
                            <img id="post-modal-caption-pic" src="" alt="User">
                            <div class="comment-content">
                                <span id="post-modal-caption-username" class="comment-username"></span>
                                <span id="post-modal-caption-text"></span>
                                <div class="comment-time" id="post-modal-time"></div>
                            </div>
                        </div>
                        <!-- Comments will be loaded here (future) -->
                    </div>

                    <!-- Action Buttons -->
                    <div class="post-modal-actions">
                        <div class="action-buttons-row">
                            <div class="left-actions">
                                <button class="action-btn"><i class="fa-regular fa-heart"></i></button>
                                <button class="action-btn"><i class="fa-regular fa-comment"></i></button>
                                <button class="action-btn"><i class="fa-regular fa-paper-plane"></i></button>
                            </div>
                            <div class="right-actions">
                                <button class="action-btn"><i class="fa-regular fa-bookmark"></i></button>
                            </div>
                        </div>
                        <div class="post-likes-count" id="post-modal-likes">0 likes</div>
                        <div class="post-date-small" id="post-modal-date"></div>
                    </div>

                    <!-- Add Comment -->
                    <div class="post-add-comment">
                        <input type="text" placeholder="Add a comment...">
                        <button disabled>Post</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/profile.js"></script>
</body>

</html>